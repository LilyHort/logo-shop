function u(){let n=document.querySelector("#promo"),o=document.querySelector(".total__input-button");if(!n||!o)return;o.style.display="none",n.addEventListener("input",function(){this.value.trim().length>0?o.style.display="flex":o.style.display="none"}),n.addEventListener("blur",function(){this.value.trim().length===0&&(o.style.display="none")}),o.addEventListener("click",()=>{let t=n.value.trim();t&&(t==="VALID"||t==="TEST"?i(t):c(t),n.value="",o.style.display="none")});function i(t){let r=document.querySelector(".total__promo-success");r&&r.remove();let e=document.createElement("div");e.className="total__promo-success",e.textContent=`${t} - \u043A\u0443\u043F\u043E\u043D \u043F\u0440\u0438\u043C\u0435\u043D\u0435\u043D`;let s=document.querySelector(".total__input");s&&s.insertAdjacentElement("afterend",e),setTimeout(()=>{e.parentNode&&e.remove()},5e3)}function c(t){let r=document.querySelector(".total__promo-error");r&&r.remove();let e=document.createElement("div");e.className="total__promo-error",e.textContent=`${t} - \u043A\u0443\u043F\u043E\u043D \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D`;let s=document.querySelector(".total__input");s&&s.insertAdjacentElement("afterend",e),setTimeout(()=>{e.parentNode&&e.remove()},5e3)}}export{u as initPromoButton};
