function w(){document.querySelectorAll(".contacts-personal__input").forEach(t=>{let n=t.parentElement.querySelector(".contacts-personal__label");if(!n)return;let c=t.placeholder;t.value.trim()!==""&&(n.classList.add("contacts-personal__label--visible"),t.placeholder=""),t.addEventListener("focus",()=>{n.classList.add("contacts-personal__label--visible"),t.placeholder=""}),t.addEventListener("input",()=>{t.value.trim()!==""?(n.classList.add("contacts-personal__label--visible"),t.placeholder=""):n.classList.remove("contacts-personal__label--visible")}),t.addEventListener("blur",()=>{t.value.trim()===""&&(n.classList.remove("contacts-personal__label--visible"),t.placeholder=c)})})}var f=document.querySelector(".header__nav-main-button"),B=document.querySelector(".header__nav-main-list");f.classList.add("header__nav-main-button--open");function W(){B.classList.toggle("header__nav-main-list--open"),f.classList.contains("header__nav-main-button--open")?(f.classList.remove("header__nav-main-button--open"),f.classList.add("header__nav-main-button--close")):(f.classList.remove("header__nav-main-button--close"),f.classList.add("header__nav-main-button--open"))}f.addEventListener("click",W);function x(){document.querySelectorAll(".total__option-toggle-icon").forEach(t=>{let c=t.closest(".total__option-toggle").querySelector(".total__option-toggle-input");c&&c.checked&&t.classList.add("total__option-toggle-icon--checked"),t.addEventListener("click",function(){c&&(c.checked=!c.checked,console.log("\u0427\u0435\u043A\u0431\u043E\u043A\u0441 \u043F\u0435\u0440\u0435\u043A\u043B\u044E\u0447\u0435\u043D:",c.checked)),this.classList.toggle("total__option-toggle-icon--checked")})})}var H=document.querySelectorAll(".card__color-item");function G(){this.closest(".card__item").querySelectorAll(".card__color-item").forEach(c=>{c.classList.remove("card__color-item--active");let o=c.querySelector(".card__color-label");o&&o.classList.remove("card__color-label--active")}),this.classList.add("card__color-item--active");let n=this.querySelector(".card__color-label");n&&n.classList.add("card__color-label--active")}function I(){H.forEach(e=>{e.addEventListener("click",G)})}var Y=document.querySelectorAll(".card__size-item");function Z(){if(this.classList.contains("card__size-item--none"))return;this.closest(".card__item").querySelectorAll(".card__size-item").forEach(c=>{c.classList.remove("card__size-item--active","card__size-item--clicked");let o=c.querySelector(".card__size-label");o&&o.classList.remove("card__size-label--active")}),this.classList.add("card__size-item--active","card__size-item--clicked");let n=this.querySelector(".card__size-label");n&&n.classList.add("card__size-label--active")}function T(){Y.forEach(e=>{e.addEventListener("click",Z)})}function h(e){let t=e.querySelector(".card__price-quantity-input"),n=e.querySelector(".card__price-unit .card__price-current"),c=e.querySelector(".card__price-total .card__price-current"),o=e.querySelector(".card__price-total .card__price-old");if(!t||!n||!c)return;let r=parseInt(t.value,10),s=parseInt(e.dataset.basePrice,10);s||(s=parseInt(n.textContent.replace(/[^\d]/g,""),10),e.dataset.basePrice=s);let i=s*r;if(c.textContent=`${i.toLocaleString("ru-RU")} \u20BD`,o&&!o.classList.contains("card__price-old--none")){let a=parseInt(e.dataset.baseOldPrice,10);if(a||(a=parseInt(o.textContent.replace(/[^\d]/g,""),10),e.dataset.baseOldPrice=a),a){let l=a*r;o.textContent=`${l.toLocaleString("ru-RU")} \u20BD`}}K()}function K(){let e=document.querySelectorAll(".card__item:not(.card__item-deleted)"),t=document.querySelector(".basket__count"),n=document.querySelector(".basket__total"),c=document.querySelector(".total__final-value"),o=document.querySelector(".header__nav-user-item:not(.header__nav-user-item--mobile) .header__nav-user-item-count"),r=document.querySelector(".total__item--products .total__price"),s=document.querySelector(".total__item--discount .total__price"),i=0,a=0,l=0;if(e.forEach(u=>{let d=u.querySelector(".card__price-quantity-input"),p=u.querySelector(".card__price-total .card__price-current"),_=u.querySelector(".card__price-total .card__price-old");if(d&&p){let L=parseInt(d.value,10),q=parseInt(p.textContent.replace(/[^\d]/g,""),10),v=0;_&&!_.classList.contains("card__price-old--none")&&(v=parseInt(_.textContent.replace(/[^\d]/g,""),10)),i+=L,a+=q,l+=v}}),t&&(t.textContent=i),n&&(n.textContent=a.toLocaleString("ru-RU")),r){let u=r.querySelector(".ruble--total");u?r.innerHTML=`${a.toLocaleString("ru-RU")}&nbsp;${u.outerHTML}`:r.textContent=`${a.toLocaleString("ru-RU")} \u20BD`}if(s&&l>0){let u=l-a,d=s.querySelector(".ruble--discount");d?s.innerHTML=`-&nbsp;${u.toLocaleString("ru-RU")}&nbsp;${d.outerHTML}`:s.textContent=`- ${u.toLocaleString("ru-RU")} \u20BD`}if(c){let u=c.querySelector(".ruble--total-price");u?c.innerHTML=`${a.toLocaleString("ru-RU")}&nbsp;${u.outerHTML}`:c.textContent=`${a.toLocaleString("ru-RU")} \u20BD`}o&&(o.textContent=i),A()}function A(){let e=document.querySelector(".header__nav-user-item--mobile .header__nav-user-item-count"),t=8;e&&(e.textContent=t)}function k(e,t){let n=e.querySelector(".card__price-quantity-input");if(!n)return;let o=parseInt(n.value,10)+t;o<1&&(o=1),o>100&&(o=100),n.value=o,h(e)}function P(){let e=document.querySelectorAll(".card__price-quantity-input"),t=document.querySelectorAll(".card__price-quantity-button--minus"),n=document.querySelectorAll(".card__price-quantity-button--plus");document.querySelectorAll(".card__item:not(.card__item-deleted)").forEach(o=>{let r=o.querySelector(".card__price-unit .card__price-current"),s=o.querySelector(".card__price-unit .card__price-old"),i=o.querySelector(".card__price-total .card__price-old");if(r){let a=parseInt(r.textContent.replace(/[^\d]/g,""),10);o.dataset.basePrice=a}if(s&&!s.classList.contains("card__price-old--none")){let a=parseInt(s.textContent.replace(/[^\d]/g,""),10);o.dataset.baseOldPrice=a}else if(i&&!i.classList.contains("card__price-old--none")){let a=o.querySelector(".card__price-quantity-input"),l=a?parseInt(a.value,10):1,u=parseInt(i.textContent.replace(/[^\d]/g,""),10),d=Math.round(u/l);o.dataset.baseOldPrice=d}h(o)}),A(),t.forEach(o=>{o.addEventListener("click",function(){let r=this.closest(".card__item");k(r,-1)})}),n.forEach(o=>{o.addEventListener("click",function(){let r=this.closest(".card__item");k(r,1)})}),e.forEach(o=>{o.addEventListener("input",function(){let r=parseInt(this.value,10);isNaN(r)||r<1?this.value=1:this.value=r;let s=this.closest(".card__item");h(s)})}),e.forEach(o=>{o.addEventListener("blur",function(){if(this.value===""||parseInt(this.value,10)<1){this.value=1;let r=this.closest(".card__item");h(r)}})})}function y(e){let t=new FormData(e),n=document.querySelector("#option");n?(console.log("\u0421\u043E\u0441\u0442\u043E\u044F\u043D\u0438\u0435 \u0447\u0435\u043A\u0431\u043E\u043A\u0441\u0430 option:",n.checked),t.set("option",n.checked?"on":"off")):console.log("\u0427\u0435\u043A\u0431\u043E\u043A\u0441 #option \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D!");let c=document.querySelector("#promo");c&&t.set("promo",c.value||"");let o=[];document.querySelectorAll(".card__item:not(.card__item-deleted)").forEach((p,_)=>{let L=p.querySelector(".card__title")?.textContent?.trim()||"",q=p.querySelector(".card__size-item--active .card__size-label")?.textContent?.trim()||"",v=p.querySelector(".card__color-item--active")?.classList.toString().match(/card__color-item--(\w+)/)?.[1]||"",j=p.querySelector(".card__price-quantity-input")?.value||"1",V=p.querySelector(".card__price-total .card__price-current")?.textContent?.replace(/[^\d]/g,"")||"0";o.push({id:_+1,title:L,size:q,color:v,quantity:parseInt(j,10),price:parseInt(V,10)})});let s=document.querySelector(".payment__input:checked"),i=s?s.value:"",a=document.querySelector("#promo")?.value?.trim()||"",l=document.querySelector("#option")?.checked||!1,u=document.querySelector(".total__final-value")?.textContent?.replace(/[^\d]/g,"")||"0",d={name:t.get("name")||"",surname:t.get("surname")||"",phone:t.get("phone")||"",email:t.get("email")||"",address:t.get("address")||"",paymentMethod:i,comment:t.get("comment")||"",promoCode:a,option:l,cartItems:o,totalAmount:parseInt(u,10),timestamp:new Date().toISOString(),userAgent:navigator.userAgent};console.log("=== \u0414\u0410\u041D\u041D\u042B\u0415 \u0417\u0410\u041A\u0410\u0417\u0410 ==="),console.log("FormData \u043E\u0431\u044A\u0435\u043A\u0442:",t),console.log("\u0421\u043E\u0434\u0435\u0440\u0436\u0438\u043C\u043E\u0435 FormData:");for(let[p,_]of t.entries())console.log(`${p}: ${_}`);console.log("\u0421\u0442\u0440\u0443\u043A\u0442\u0443\u0440\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435 \u0437\u0430\u043A\u0430\u0437\u0430:",d),console.log("==================="),console.log("\u041A\u043E\u043D\u0442\u0430\u043A\u0442\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435:",{name:d.name,surname:d.surname,phone:d.phone,email:d.email,address:d.address}),console.log("\u0422\u043E\u0432\u0430\u0440\u044B \u0432 \u043A\u043E\u0440\u0437\u0438\u043D\u0435:",d.cartItems),console.log("\u0421\u043F\u043E\u0441\u043E\u0431 \u043E\u043F\u043B\u0430\u0442\u044B:",d.paymentMethod),console.log("\u0414\u043E\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C\u043D\u0430\u044F \u043E\u043F\u0446\u0438\u044F (\u0441\u043E \u0441\u043A\u043B\u0430\u0434\u0430):",d.option),console.log("\u041F\u0440\u043E\u043C\u043E\u043A\u043E\u0434:",d.promoCode),console.log("\u0418\u0442\u043E\u0433\u043E\u0432\u0430\u044F \u0441\u0443\u043C\u043C\u0430:",d.totalAmount)}function D(e){let t=e.value.trim(),n=e.type,c=e.hasAttribute("required");e.classList.remove("error");let o=e.parentNode.querySelector(".contacts-personal__error");o&&o.remove();let r=!0,s="";return c&&!t&&(r=!1,s="\u042D\u0442\u043E \u043F\u043E\u043B\u0435 \u043E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u043E \u0434\u043B\u044F \u0437\u0430\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u044F"),e.name==="name"&&t&&(/^[а-яё\s]+$/i.test(t)||(r=!1,s="\u0418\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0439\u0442\u0435 \u0442\u043E\u043B\u044C\u043A\u043E \u0431\u0443\u043A\u0432\u044B")),e.name==="surname"&&t&&(/^[а-яё\s]+$/i.test(t)||(r=!1,s="\u0418\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0439\u0442\u0435 \u0442\u043E\u043B\u044C\u043A\u043E \u0431\u0443\u043A\u0432\u044B")),n==="email"&&t&&(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)||(r=!1,s="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043A\u043E\u0440\u0440\u0435\u043A\u0442\u043D\u044B\u0439 email \u0430\u0434\u0440\u0435\u0441")),e.name==="phone"&&t&&(/^[\+]?[0-9\s\-\(\)]{10,}$/.test(t)||(r=!1,s="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043A\u043E\u0440\u0440\u0435\u043A\u0442\u043D\u044B\u0439 \u043D\u043E\u043C\u0435\u0440 \u0442\u0435\u043B\u0435\u0444\u043E\u043D\u0430")),r||(e.classList.add("error"),J(e,s)),r}function J(e,t){let n=document.createElement("div");n.className="contacts-personal__error show",n.textContent=t,e.parentNode.appendChild(n)}function M(){document.querySelectorAll(".contacts-personal__input").forEach(t=>{t.addEventListener("blur",function(){D(this)}),t.addEventListener("input",function(){clearTimeout(this.validationTimeout),this.validationTimeout=setTimeout(()=>{D(this)},500)})})}function C(e){let t=[{name:"name",label:"\u0418\u043C\u044F"},{name:"surname",label:"\u0424\u0430\u043C\u0438\u043B\u0438\u044F"},{name:"phone",label:"\u0422\u0435\u043B\u0435\u0444\u043E\u043D"},{name:"email",label:"Email"},{name:"address",label:"\u0410\u0434\u0440\u0435\u0441 \u0434\u043E\u0441\u0442\u0430\u0432\u043A\u0438"}],n=[];e.querySelectorAll(".contacts-personal__input").forEach(i=>{i.classList.remove("error")}),t.forEach(i=>{let a=e.querySelector(`[name="${i.name}"]`);(!a||!a.value.trim())&&(n.push(`${i.label} \u043E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u043E \u0434\u043B\u044F \u0437\u0430\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u044F`),a&&a.classList.add("error"))}),document.querySelector(".payment__input:checked")||n.push("\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u043F\u043E\u0441\u043E\u0431 \u043E\u043F\u043B\u0430\u0442\u044B");let r=e.querySelector('[name="email"]');r&&r.value.trim()&&(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.value.trim())||(n.push("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043A\u043E\u0440\u0440\u0435\u043A\u0442\u043D\u044B\u0439 email \u0430\u0434\u0440\u0435\u0441"),r.classList.add("error")));let s=e.querySelector('[name="phone"]');return s&&s.value.trim()&&(/^[\+]?[0-9\s\-\(\)]{10,}$/.test(s.value.trim())||(n.push("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043A\u043E\u0440\u0440\u0435\u043A\u0442\u043D\u044B\u0439 \u043D\u043E\u043C\u0435\u0440 \u0442\u0435\u043B\u0435\u0444\u043E\u043D\u0430"),s.classList.add("error"))),n}function O(){let e=document.querySelector(".comment__input"),t=document.querySelector(".comment__validation"),n=document.querySelector(".comment__validation-count");if(!e||!t||!n)return;let c=142;function o(){let r=e.value.length;n.textContent=r,e.classList.remove("comment__input--error","comment__input--warning"),t.classList.remove("comment__validation--error","comment__validation--warning"),r>c?(e.classList.add("comment__input--error"),t.classList.add("comment__validation--error")):r>c-20&&(e.classList.add("comment__input--warning"),t.classList.add("comment__validation--warning"))}e.addEventListener("input",o),o()}function S(e){if(!Array.isArray(e)||e.length===0)return;let t=document.querySelector(".validation-errors");t&&t.remove();let n=document.createElement("div");n.className="validation-errors",n.setAttribute("role","alert"),n.setAttribute("aria-live","polite");let c=document.createElement("div");c.className="validation-errors__title",c.textContent="\u041E\u0448\u0438\u0431\u043A\u0438 \u0432\u0430\u043B\u0438\u0434\u0430\u0446\u0438\u0438:";let o=document.createElement("ul");o.className="validation-errors__list",e.forEach(r=>{if(typeof r=="string"&&r.trim()){let s=document.createElement("li");s.className="validation-errors__item",s.textContent=r.trim(),o.appendChild(s)}}),n.appendChild(c),n.appendChild(o),document.body.appendChild(n),setTimeout(()=>{n&&n.parentNode&&n.remove()},5e3)}function z(){try{let e=document.querySelector(".form"),t=document.querySelector(".total__button");if(!e||!t){console.warn("\u0424\u043E\u0440\u043C\u0430 \u0438\u043B\u0438 \u043A\u043D\u043E\u043F\u043A\u0430 \u043E\u0442\u043F\u0440\u0430\u0432\u043A\u0438 \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u044B");return}if(typeof C!="function"||typeof y!="function"){console.error("\u0424\u0443\u043D\u043A\u0446\u0438\u0438 \u0432\u0430\u043B\u0438\u0434\u0430\u0446\u0438\u0438 \u0438\u043B\u0438 \u0441\u0431\u043E\u0440\u0430 \u0434\u0430\u043D\u043D\u044B\u0445 \u043D\u0435\u0434\u043E\u0441\u0442\u0443\u043F\u043D\u044B");return}e.querySelectorAll(".contacts-personal__input").forEach(c=>{c&&typeof c.addEventListener=="function"&&c.addEventListener("input",function(){try{this.classList.remove("error");let o=document.querySelector(".validation-errors");o&&o.parentNode&&o.remove()}catch(o){console.warn("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043E\u0447\u0438\u0441\u0442\u043A\u0435 \u043E\u0448\u0438\u0431\u043E\u043A:",o)}})}),t.addEventListener("click",c=>{try{c.preventDefault();let o=C(e);if(Array.isArray(o)&&o.length>0){S(o);return}y(e)}catch(o){console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043E\u0431\u0440\u0430\u0431\u043E\u0442\u043A\u0435 \u043A\u043B\u0438\u043A\u0430 \u043D\u0430 \u043A\u043D\u043E\u043F\u043A\u0443:",o),S(["\u041F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u0430 \u043E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043E\u0442\u043F\u0440\u0430\u0432\u043A\u0435 \u0444\u043E\u0440\u043C\u044B. \u041F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437."])}}),e.addEventListener("submit",c=>{try{c.preventDefault();let o=C(e);if(Array.isArray(o)&&o.length>0){S(o);return}y(e)}catch(o){console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043E\u0442\u043F\u0440\u0430\u0432\u043A\u0435 \u0444\u043E\u0440\u043C\u044B:",o),S(["\u041F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u0430 \u043E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u043E\u0442\u043F\u0440\u0430\u0432\u043A\u0435 \u0444\u043E\u0440\u043C\u044B. \u041F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437."])}})}catch(e){console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0438\u043D\u0438\u0446\u0438\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u0438 \u0444\u043E\u0440\u043C\u044B \u0437\u0430\u043A\u0430\u0437\u0430:",e)}}function $(){let e=document.querySelector(".total"),t=document.querySelector(".contacts-personal__map");if(console.log("\u0421\u0438\u043D\u0445\u0440\u043E\u043D\u0438\u0437\u0430\u0446\u0438\u044F \u0448\u0438\u0440\u0438\u043D\u044B \u043A\u0430\u0440\u0442\u044B:",{totalBlock:e,mapBlock:t,windowWidth:window.innerWidth}),e&&t&&window.innerWidth>=768){let n=e.offsetWidth;t.style.setProperty("--total-width",`${n}px`),console.log("\u0423\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D\u0430 \u0448\u0438\u0440\u0438\u043D\u0430 \u043A\u0430\u0440\u0442\u044B:",n)}}window.addEventListener("load",$);window.addEventListener("resize",$);var b="11d7d340d855116e8e9aaedbaefae9c02190e5e4",m=null,g=null;function Q(){console.log("\u0418\u043D\u0438\u0446\u0438\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u044F \u042F\u043D\u0434\u0435\u043A\u0441.\u041A\u0430\u0440\u0442\u044B..."),window.ymaps.ready(()=>{let e=document.querySelector(".contacts-personal__map"),t=document.querySelector("#address");if(console.log("\u042D\u043B\u0435\u043C\u0435\u043D\u0442\u044B \u043D\u0430\u0439\u0434\u0435\u043D\u044B:",{mapContainer:e,addressInput:t}),!e||!t){console.warn("\u042D\u043B\u0435\u043C\u0435\u043D\u0442\u044B \u043A\u0430\u0440\u0442\u044B \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u044B");return}e.classList.add("contacts-personal__map--visible"),console.log("\u041A\u043B\u0430\u0441\u0441 --visible \u0434\u043E\u0431\u0430\u0432\u043B\u0435\u043D \u043A \u043A\u0430\u0440\u0442\u0435"),m=new window.ymaps.Map(e,{center:[55.751574,37.573856],zoom:10,controls:["zoomControl"]});let n,c=window.innerWidth;window.addEventListener("resize",()=>{clearTimeout(n),n=setTimeout(()=>{let o=window.innerWidth;if(m&&Math.abs(o-c)>50){let r=m.getCenter(),s=m.getZoom(),i=[];m.geoObjects.each(a=>{a.geometry.getType()==="Point"&&i.push({coords:a.geometry.getCoordinates(),properties:a.properties.getAll()})}),m.destroy(),m=new window.ymaps.Map(e,{center:r,zoom:s,controls:["zoomControl"]}),i.forEach(a=>{let l=new window.ymaps.Placemark(a.coords,a.properties,{preset:"islands#blackDotIcon"});m.geoObjects.add(l),g=l}),m.events.add("click",a=>{let l=a.get("coords");E(l),window.ymaps.geocode(l).then(u=>{let p=u.geoObjects.get(0).getAddressLine();t.value=p;let _=t.parentElement.querySelector(".contacts-personal__label");_&&(_.classList.add("contacts-personal__label--visible"),t.placeholder="")})}),c=o}},220)}),m.events.add("click",o=>{let r=o.get("coords");E(r),window.ymaps.geocode(r).then(s=>{let a=s.geoObjects.get(0).getAddressLine();t.value=a;let l=t.parentElement.querySelector(".contacts-personal__label");l&&(l.classList.add("contacts-personal__label--visible"),t.placeholder="")})})})}function E(e,t=""){if(!m)return;g&&m.geoObjects.remove(g),g=new window.ymaps.Placemark(e,{hintContent:t||"\u0412\u044B\u0431\u0440\u0430\u043D\u043D\u044B\u0439 \u0430\u0434\u0440\u0435\u0441",balloonContent:t||"\u041C\u0435\u0441\u0442\u043E\u043F\u043E\u043B\u043E\u0436\u0435\u043D\u0438\u0435"},{iconLayout:"default#image",iconImageHref:`data:image/svg+xml;base64,${btoa(`
      <svg width="27" height="39" viewBox="0 0 27 39" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M26.4283 13.1881C26.4283 20.4716 20.3428 32.1025 13.2141 38.6965C6.70158 32.7642 0 20.4716 0 13.1881C0 5.9045 5.91617 0 13.2141 0C20.5121 0 26.4283 5.9045 26.4283 13.1881Z" fill="black"/>
<circle cx="13.2141" cy="13.1881" r="8" fill="white"/>
</svg>
    `)}`,iconImageSize:[27,38],iconImageOffset:[-16,-16]}),m.geoObjects.add(g),m.setCenter(e,15);let n=document.querySelector(".contacts-personal__map");n&&n.classList.add("contacts-personal__map--visible")}function X(){let e=document.createElement("ul");return e.className="address-suggestions",e}function R(){let e=document.querySelector("#address");if(console.log("\u0418\u043D\u0438\u0446\u0438\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u044F DaData:",{addressInput:e,DADATA_TOKEN:b}),!e){console.warn("\u041F\u043E\u043B\u0435 \u0430\u0434\u0440\u0435\u0441\u0430 \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u043E");return}if(!b||b==="YOUR_DADATA_TOKEN"){console.warn("\u0422\u043E\u043A\u0435\u043D DaData \u043D\u0435 \u043D\u0430\u0441\u0442\u0440\u043E\u0435\u043D");return}let t=e.parentElement;t.style.position="relative";let n=X();t.appendChild(n);let c;function o(i){return console.log("\u0417\u0430\u043F\u0440\u043E\u0441 \u043A DaData API:",i),fetch("https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Token ${b}`},body:JSON.stringify({query:i,count:5})}).then(a=>(console.log("\u041E\u0442\u0432\u0435\u0442 \u043E\u0442 DaData API:",a.status),a.json())).then(a=>(console.log("\u0414\u0430\u043D\u043D\u044B\u0435 \u043E\u0442 DaData:",a),a)).catch(a=>(console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u0437\u0430\u043F\u0440\u043E\u0441\u0430 \u043A DaData:",a),{suggestions:[]}))}function r(i){if(n.innerHTML="",i.length===0){n.classList.remove("address-suggestions--visible");return}i.forEach(a=>{let l=document.createElement("li");l.className="address-suggestions__item",l.textContent=a.value,l.addEventListener("click",()=>{s(a)}),n.appendChild(l)}),n.classList.add("address-suggestions--visible")}function s(i){e.value=i.value,n.classList.remove("address-suggestions--visible");let a=[parseFloat(i.data.geo_lat),parseFloat(i.data.geo_lon)];a[0]&&a[1]&&E(a,i.value);let l=e.parentElement.querySelector(".contacts-personal__label");l&&(l.classList.add("contacts-personal__label--visible"),e.placeholder="")}e.addEventListener("input",function(){let i=this.value.trim();if(clearTimeout(c),i.length<3){n.classList.remove("address-suggestions--visible");return}c=setTimeout(()=>{o(i).then(a=>{r(a.suggestions||[])})},300)}),document.addEventListener("click",i=>{t.contains(i.target)||n.classList.remove("address-suggestions--visible")})}function N(){let e=()=>{typeof window.ymaps<"u"?Q():setTimeout(e,500)};e()}function F(){let e=document.querySelector(".footer__button");e&&e.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})})}function U(){let e=document.querySelector("#promo"),t=document.querySelector(".total__input-button");if(!e||!t)return;t.style.display="none",e.addEventListener("input",function(){this.value.trim().length>0?t.style.display="flex":t.style.display="none"}),e.addEventListener("blur",function(){this.value.trim().length===0&&(t.style.display="none")}),t.addEventListener("click",()=>{let o=e.value.trim();o&&(o==="VALID"||o==="TEST"?n(o):c(o),e.value="",t.style.display="none")});function n(o){let r=document.querySelector(".total__promo-success");r&&r.remove();let s=document.createElement("div");s.className="total__promo-success",s.textContent=`${o} - \u043A\u0443\u043F\u043E\u043D \u043F\u0440\u0438\u043C\u0435\u043D\u0435\u043D`;let i=document.querySelector(".total__input");i&&i.insertAdjacentElement("afterend",s),setTimeout(()=>{s.parentNode&&s.remove()},5e3)}function c(o){let r=document.querySelector(".total__promo-error");r&&r.remove();let s=document.createElement("div");s.className="total__promo-error",s.textContent=`${o} - \u043A\u0443\u043F\u043E\u043D \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D`;let i=document.querySelector(".total__input");i&&i.insertAdjacentElement("afterend",s),setTimeout(()=>{s.parentNode&&s.remove()},5e3)}}document.addEventListener("DOMContentLoaded",()=>{w(),x(),I(),T(),P(),M(),z(),O(),N(),R(),F(),U()});
